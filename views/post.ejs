<%- include('partials/header', { title: post.title }) %>

<main class="main-content">
  <div class="container">
    <article class="post-detail">
      <header class="post-header">
        <h1 class="post-title"><%= post.title %></h1>
        <div class="post-meta">
          <span>
            <i class="fas fa-user"></i>
            <%= post.author %>
          </span>
          <span>
            <i class="fas fa-calendar"></i>
            <%= post.date.toLocaleDateString('en-US', { year: 'numeric', month:
            'long', day: 'numeric' }) %>
          </span>
        </div>
      </header>

      <div class="post-content">
        <% post.content.split('\n').forEach(paragraph => { %>
        <p><%= paragraph %></p>
        <% }) %>
      </div>

      <div class="post-actions">
        <a href="/" class="btn btn-outline">
          <i class="fas fa-arrow-left"></i>
          Back to Posts
        </a>
        <div class="post-controls">
          <a href="/posts/<%= post.id %>/edit" class="btn btn-warning">
            <i class="fas fa-edit"></i>
            Edit
          </a>
          <form
            method="POST"
            action="/posts/<%= post.id %>?_method=DELETE"
            style="display: inline"
          >
            <button
              type="submit"
              class="btn btn-danger"
              onclick="return confirm('Are you sure you want to delete this post?')"
            >
              <i class="fas fa-trash"></i>
              Delete
            </button>
          </form>
        </div>
      </div>
    </article>
  </div>
</main>

<%- include('partials/footer') %>
